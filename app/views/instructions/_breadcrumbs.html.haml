.xs-margin-top
  %ol.breadcrumb
  
    - if action_name == 'show'
      - if user_signed_in?
        %li
          = link_to @instruction.product.company.name, @instruction.product.company if policy(@instruction.product.company).show?
    
      %li
        = link_to @instruction.product.name, @instruction.product if policy(@instruction.product).show?
      %li.active
        = link_to @instruction.language.name, @instruction if policy(@instruction).show?
    - elsif action_name == 'new'
      %li
        = link_to @product.company.name, @product.company if policy(@product.company).show?
      %li
        = link_to @product.name, @product if policy(@product).show?
      %li.active
        = link_to t('new.instruction'), new_product_instruction_path(@product) if policy(Instruction.new(product: @product)).new?
    - elsif action_name == 'edit'
      %li
        = link_to @instruction.product.company.name, @instruction.product.company if policy(@instruction.product.company).show?
      %li
        = link_to @instruction.product.name, @instruction.product if policy(@instruction.product).show?
      %li
        = link_to @instruction.language.name, @instruction if policy(@instruction).show?
      %li.active
        = link_to t('keywords.edit'), edit_instruction_path(@instruction) if policy(@instruction).edit?